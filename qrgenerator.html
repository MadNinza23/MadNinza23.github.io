<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>QR & Barcode Generator by h1m</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }
  
  body {
    font-family: 'Segoe UI', system-ui, sans-serif;
    background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    padding: 20px;
    color: #e0e0e0;
  }
  
  .app {
    max-width: 800px;
    width: 100%;
    background: rgba(25, 25, 35, 0.95);
    padding: 30px;
    border-radius: 20px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }
  
  .header {
    text-align: center;
    margin-bottom: 25px;
    padding-bottom: 20px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  }
  
  h1 {
    font-size: 28px;
    font-weight: 600;
    background: linear-gradient(90deg, #6a11cb 0%, #2575fc 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    margin-bottom: 5px;
  }
  
  .subtitle {
    font-size: 14px;
    color: #a0a0a0;
  }
  
  .landing {
    text-align: center;
    padding: 50px 20px;
  }
  
  .landing-icon {
    font-size: 64px;
    margin-bottom: 20px;
    color: #6a11cb;
  }
  
  .btn {
    background: linear-gradient(90deg, #6a11cb 0%, #2575fc 100%);
    color: white;
    padding: 14px 32px;
    border: none;
    border-radius: 50px;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(106, 17, 203, 0.3);
  }
  
  .btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(106, 17, 203, 0.4);
  }
  
  .btn:active {
    transform: translateY(0);
  }
  
  .form {
    display: grid;
    gap: 20px;
    margin-top: 20px;
  }
  
  .form-group {
    display: flex;
    flex-direction: column;
  }
  
  label {
    font-size: 14px;
    color: #b0b0b0;
    margin-bottom: 8px;
    font-weight: 500;
  }
  
  input, select, textarea {
    width: 100%;
    padding: 14px;
    background: rgba(40, 40, 50, 0.7);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 10px;
    font-size: 15px;
    color: #e0e0e0;
    transition: all 0.3s ease;
  }
  
  input:focus, select:focus, textarea:focus {
    outline: none;
    border-color: #6a11cb;
    box-shadow: 0 0 0 2px rgba(106, 17, 203, 0.2);
  }
  
  .toggle {
    display: flex;
    gap: 12px;
    margin-top: 5px;
  }
  
  .option {
    flex: 1;
    text-align: center;
    padding: 14px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s ease;
    background: rgba(40, 40, 50, 0.7);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
  }
  
  .option i {
    font-size: 20px;
  }
  
  .option:hover {
    background: rgba(50, 50, 60, 0.7);
  }
  
  .option.active {
    background: linear-gradient(90deg, #6a11cb 0%, #2575fc 100%);
    color: white;
    border-color: transparent;
    box-shadow: 0 4px 15px rgba(106, 17, 203, 0.3);
  }
  
  .option.disabled {
    filter: blur(1px) opacity(0.4);
    pointer-events: none;
  }
  
  .result {
    margin-top: 30px;
    padding: 25px;
    border-radius: 15px;
    text-align: center;
    background: rgba(30, 30, 40, 0.7);
    border: 1px solid rgba(255, 255, 255, 0.05);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
  }
  
  .result-title {
    font-size: 18px;
    margin-bottom: 20px;
    color: #d0d0d0;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
  }
  
  .result img {
    max-width: 100%;
    height: auto;
    border-radius: 10px;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    background: white;
    padding: 10px;
  }
  
  .controls {
    margin-top: 20px;
    display: flex;
    gap: 12px;
    justify-content: center;
    flex-wrap: wrap;
  }
  
  .small-btn {
    padding: 10px 20px;
    font-size: 14px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    background: rgba(50, 50, 60, 0.7);
    color: #e0e0e0;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 8px;
  }
  
  .small-btn:hover {
    background: rgba(70, 70, 80, 0.7);
    transform: translateY(-2px);
  }
  
  .small-btn:active {
    transform: translateY(0);
  }
  
  .copy-success {
    background: #10b981 !important;
  }
  
  #payloadText {
    margin-top: 15px;
    padding: 12px;
    font-size: 13px;
    color: #a0a0a0;
    word-break: break-all;
    background: rgba(40, 40, 50, 0.5);
    border-radius: 8px;
    text-align: left;
    max-height: 100px;
    overflow-y: auto;
  }
  
  @media (max-width: 600px) {
    .app {
      padding: 20px;
    }
    
    h1 {
      font-size: 24px;
    }
    
    .toggle {
      flex-direction: column;
    }
    
    .controls {
      flex-direction: column;
    }
    
    .small-btn {
      width: 100%;
      justify-content: center;
    }
  }
</style>
</head>
<body>
<div class="app">
  <div class="header">
    <h1>QR & Barcode Generator</h1>
    <div class="subtitle">Create codes for URLs, contacts, WiFi, and more</div>
  </div>
  
  <div id="landing" class="landing">
    <div class="landing-icon">
      <i class="fas fa-qrcode"></i>
    </div>
    <h2>Generate QR Codes & Barcodes</h2>
    <p style="margin: 15px 0 25px; color: #a0a0a0;">Create professional QR codes and barcodes for various purposes in seconds.</p>
    <button class="btn" id="startBtn">
      <i class="fas fa-play-circle"></i> Start Generating
    </button>
  </div>

  <div id="mainUI" style="display:none;">
    <div class="form">
      <div class="form-group">
        <label for="typeSelect"><i class="fas fa-cog"></i> What do you want to generate?</label>
        <select id="typeSelect">
          <option value="URL">URL</option>
          <option value="Text">Text</option>
          <option value="Contact">Contact (vCard)</option>
          <option value="WiFi">WiFi</option>
        </select>
      </div>
      <div id="dynamicFields"></div>

      <div class="form-group">
        <label><i class="fas fa-barcode"></i> Choose output type</label>
        <div class="toggle">
          <div class="option active" data-type="QR" id="optQR">
            <i class="fas fa-qrcode"></i>
            <span>QR Code</span>
          </div>
          <div class="option" data-type="BAR" id="optBAR">
            <i class="fas fa-barcode"></i>
            <span>Barcode</span>
          </div>
        </div>
      </div>

      <button class="btn" id="generateBtn">
        <i class="fas fa-magic"></i> Generate Code
      </button>
    </div>

    <div class="result" id="resultBox" style="display:none;">
      <div class="result-title">
        <i class="fas fa-check-circle"></i> Your Code is Ready!
      </div>
      <div id="visualArea"></div>
      <div class="controls">
        <button class="small-btn" id="copyBtn">
          <i class="far fa-copy"></i> Copy Payload
        </button>
        <button class="small-btn" id="downloadBtn">
          <i class="fas fa-download"></i> Download
        </button>
      </div>
      <div id="payloadText" style="display:none;"></div>
    </div>
  </div>
</div>

<script>
const typeSelect = document.getElementById('typeSelect');
const dynamicFields = document.getElementById('dynamicFields');
const optQR = document.getElementById('optQR');
const optBAR = document.getElementById('optBAR');
const generateBtn = document.getElementById('generateBtn');
const resultBox = document.getElementById('resultBox');
const visualArea = document.getElementById('visualArea');
const payloadText = document.getElementById('payloadText');
const copyBtn = document.getElementById('copyBtn');
const downloadBtn = document.getElementById('downloadBtn');
let activeOutput = 'QR';
let lastPayload = '';
let lastImgUrl = '';

document.getElementById('startBtn').onclick = ()=>{
  document.getElementById('landing').style.display='none';
  document.getElementById('mainUI').style.display='block';
  renderFieldsFor(typeSelect.value);
};

typeSelect.onchange = e=> renderFieldsFor(e.target.value);

function renderFieldsFor(type){
  dynamicFields.innerHTML='';
  if(type==='URL'){
    dynamicFields.innerHTML=`
      <div class="form-group">
        <label><i class="fas fa-link"></i> URL</label>
        <input id="urlInput" placeholder="https://example.com" type="url">
      </div>`;
  } else if(type==='Text'){
    dynamicFields.innerHTML=`
      <div class="form-group">
        <label><i class="fas fa-font"></i> Text</label>
        <textarea id="textInput" placeholder="Enter your text here" rows="3"></textarea>
      </div>`;
  } else if(type==='Contact'){
    dynamicFields.innerHTML=`
      <div class="form-group">
        <label><i class="fas fa-user"></i> Name</label>
        <input id="cname" placeholder="John Doe">
      </div>
      <div class="form-group">
        <label><i class="fas fa-phone"></i> Phone</label>
        <input id="cphone" placeholder="+1234567890">
      </div>
      <div class="form-group">
        <label><i class="fas fa-envelope"></i> Email</label>
        <input id="cemail" placeholder="john@example.com" type="email">
      </div>`;
  } else if(type==='WiFi'){
    dynamicFields.innerHTML=`
      <div class="form-group">
        <label><i class="fas fa-wifi"></i> SSID</label>
        <input id="ssid" placeholder="Network Name">
      </div>
      <div class="form-group">
        <label><i class="fas fa-key"></i> Password</label>
        <input id="wpass" placeholder="WiFi Password" type="password">
      </div>
      <div class="form-group">
        <label><i class="fas fa-shield-alt"></i> Encryption</label>
        <select id="wenc">
          <option>WPA</option>
          <option>WEP</option>
          <option>nopass</option>
        </select>
      </div>`;
  }
  updateToggle(type);
}

function updateToggle(type){
  if(type==='WiFi' || type==='Contact'){ 
    optBAR.classList.add('disabled'); 
    if(activeOutput==='BAR'){
      setActiveOutput('QR');
    } 
  } else {
    optBAR.classList.remove('disabled');
  }
}

function setActiveOutput(kind){
  activeOutput=kind;
  [optQR,optBAR].forEach(o=>o.classList.remove('active'));
  if(kind==='QR') optQR.classList.add('active');
  else optBAR.classList.add('active');
}

optQR.onclick=()=>setActiveOutput('QR');
optBAR.onclick=()=>{if(!optBAR.classList.contains('disabled')) setActiveOutput('BAR');};

function makePayload(type){
  if(type==='URL') return document.getElementById('urlInput').value.trim();
  if(type==='Text') return document.getElementById('textInput').value.trim();
  if(type==='Contact'){
    return `MECARD:N:${document.getElementById('cname').value};TEL:${document.getElementById('cphone').value};EMAIL:${document.getElementById('cemail').value};;`;
  }
  if(type==='WiFi'){
    let s=document.getElementById('ssid').value, p=document.getElementById('wpass').value, e=document.getElementById('wenc').value;
    return `WIFI:T:${e};S:${s};P:${p};;`;
  }
  return '';
}

generateBtn.onclick=()=>{
  let type=typeSelect.value;
  let payload=makePayload(type);
  if(!payload){alert("Please fill all required fields"); return;}
  lastPayload=payload;
  payloadText.textContent=payload;
  payloadText.style.display = 'block';
  
  let url='';
  if(activeOutput==='QR'){
    url=`https://api.qrserver.com/v1/create-qr-code/?size=250x250&data=${encodeURIComponent(payload)}`;
  } else {
    url=`https://bwip-js.metafloor.com/?bcid=code128&text=${encodeURIComponent(payload)}&scale=3`;
  }
  lastImgUrl=url;
  visualArea.innerHTML=`<img src="${url}" alt="Generated code">`;
  resultBox.style.display='block';
  
  // Scroll to result
  resultBox.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
};

copyBtn.onclick=()=>{
  navigator.clipboard.writeText(lastPayload).then(()=>{
    copyBtn.innerHTML = '<i class="fas fa-check"></i> Copied!';
    copyBtn.classList.add('copy-success');
    setTimeout(()=>{
      copyBtn.innerHTML = '<i class="far fa-copy"></i> Copy Payload';
      copyBtn.classList.remove('copy-success');
    }, 2000);
  });
};

downloadBtn.onclick=()=>{
  if(!lastImgUrl) return;
  let a=document.createElement('a');
  a.href=lastImgUrl; 
  a.download=(activeOutput==='QR'?'qr-code.png':'barcode.png');
  a.click();
};
</script>
</body>
</html>